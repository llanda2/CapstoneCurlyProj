{% extends 'base.html' %}
{% load custom_filters %}

{% block title %}Hair Type Quiz - Curly Hair Project{% endblock %}

{% block content %}
    <h1>Hair Type Quiz</h1>

    <!-- Quiz Section -->
    <div class="card shadow-sm mb-4">
        <div class="card-body">
            <h2 class="card-title">Find Your Hair Type</h2>
            <form method="POST" class="mt-4">
                {% csrf_token %}
                {{ form.as_p }}
                <div style="text-align: center; margin-top: 20px;">
                    <button type="submit" class="btn">Submit</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Routine Section -->
    <div class="card shadow-sm">
        <div class="card-body">
            <h2 class="card-title">Your Routine!</h2>
            <ol class="list-group list-group-numbered mt-4" style="padding-left: 20px;">
                {% for step in routine_steps %}
                    <li style="margin-bottom: 15px; padding: 10px; background: rgba(163, 189, 209, 0.2); border-radius: 5px;">
                        <label for="{{ step }}" style="font-weight: 500; display: block; margin-bottom: 8px;">{{ step }}:</label>
                        <select id="{{ step }}" name="{{ step }}" style="width: 100%; padding: 8px; border: 1px solid #A3BDD1; border-radius: 5px; background-color: white;">
                            {% if categorized_products|get_item:step %}
                                {% for product in categorized_products|get_item:step %}
                                    <option value="{{ product.name }}">{{ product.name }}</option>
                                {% endfor %}
                            {% else %}
                                <option>No products available</option>
                            {% endif %}
                        </select>
                    </li>
                {% endfor %}
            </ol>
        </div>
    </div>
{% endblock %}